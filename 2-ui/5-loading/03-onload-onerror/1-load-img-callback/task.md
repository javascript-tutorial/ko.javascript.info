importance: 4

---

# 콜백으로 이미지 로드하기

일반적으로 이미지는 생성될 때 로드됩니다. 그래서 페이지에 `<img>`를 추가하면 사용자는 사진을 바로 볼 수 없습니다. 브라우저에서 먼저 로드해야 합니다.

이미지를 바로 표시하기 위해서 다음과 같이 미리 생성할 수 있습니다.

```js
let img = document.createElement('img');
img.src = 'my.jpg';
```

브라우저는 이미지 로드를 시작하고 캐시에 저장합니다. 나중에 문서에 동일한 이미지가 나타나면 바로 표시됩니다(어떻게든요).

**배열의 모든 이미지를 `sources`에서 로드하고 준비가 되면 `callbak`을 실행하는 함수 `preloadImages(sources, callback)`를 만듭니다.**

예를 들어 이미지가 로드된 후 `alert`창이 표시됩니다.

```js
function loaded() {
  alert("Images loaded")
}

preloadImages(["1.jpg", "2.jpg", "3.jpg"], loaded);
```

오류가 발생하더라도 함수는 이미지를 '로드 됨'으로 간주해야 합니다.

즉, `callback`은 모든 이미지가 로드되거나 오류가 발생할 때 실행됩니다.

콜백은 예를 들어 스크롤 가능한 이미지가 많은 갤러리를 표시하고 모든 이미지가 로드되었는지 확인하려는 경우에 유용합니다.

원본 문서에서 테스트 이미지에 대한 링크와 이미지가 로드되었는지를 확인하는 코드를 찾을 수 있습니다. `300`을 출력해야 합니다.
