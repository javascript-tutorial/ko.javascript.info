# if문과 조건부 연산자 '?'

조건에 따라 다른 행동을 취해야 할 경우가 있을 수 있습니다.

이럴 땐, `if`문과 "물음표" 연산자라고도 불리는 조건부 연산자 `?`를 사용하면 됩니다.

## "if"문

`if(...)`문은 괄호 안에 들어가는 조건을 평가하는데, 그 결과가 `true`이면 코드 블록이 실행됩니다.

예시:

```js run
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?, '');

*!*
if (year == 2015) alert( '정답입니다!' );
*/!*
```

위 예제에선 조건(`year == 2015`)이 간단한 경우만 다뤘지만, 조건문은 더 복잡할 수도 있습니다.

조건문이 `true`일때 실행되는 코드 블록이 복수의 구문(statement)으로 구성되어 있다면 코드 블록을 중괄호로 묶어야 합니다.

```js
if (year == 2015) {
  alert( "정답입니다!" );
  alert( "아주 똑똑하시네요!" );
}
```

`if`문에서 사용되는 코드 블록을 중괄호 `{}`로 감싸주길 권유 드립니다. 조건이 참일 경우 실행되는 구문이 단 한 줄이더라도 말이죠. 이렇게 하면 코드의 가독성이 증가합니다.

## 불린형으로의 변환

`if (…)` 문은 괄호 안의 표현식을 평가하고 그 결과를 불린값으로 변환합니다.

<info:type-conversions> 챕터에서 배운 형 변환 규칙을 잠시 상기해 봅시다.

- 숫자 `0`, 빈 문자열`""`, `null`, `undefined`, `NaN`은 불린형으로 변환 시 모두 `false`가 됩니다. 이런 값들은 "거짓 같은(falsy)" 값 이라고 부릅니다.
- 이 외의 값은 불린형으로 변환시 `true`가 되므로 "참 같은 값(truthy)"이라고 부릅니다.

이 규칙에 따르면 아래 예시의 코드 블록은 절대 실행되지 않습니다.

```js
if (0) { // 0은 거짓 같은 값입니다.
  ...
}
```

아래 예시의 코드 블록은 항상 실행됩니다.

```js
if (1) { // 1은 참 같은 값입니다.
  ...
}
```

아래와 같이 확정된 불린값을 `if`문에 전달할 수도 있습니다.

```js
let cond = (year == 2015); // 동등 비교를 통해 true/false 여부를 결정합니다.

if (cond) {
  ...
}
```

## "else"절

`if`문엔 `else` 절을 붙일 수 있습니다. `else` 뒤에 이어지는 코드 블록은 조건이 거짓일 때 실행됩니다.

예시:
```js run
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?, '');

if (year == 2015) {
  alert( '정답입니다!' );
} else {
  alert( '오답입니다!' ); // 2015 이외의 값을 입력한 경우
}
```

## "else if"로 복수 조건 처리하기

유사하지만 약간씩 차이가 있는 조건 여러 개를 처리해야 하는 경우도 있습니다. 이럴 때 `else if`를 사용할 수 있습니다. 

예시:

```js run
let year = prompt('ECMAScript-2015 명세는 몇 년도에 출판되었을까요?, '');

if (year < 2015) {
  alert( '숫자를 좀 더 올려보세요.' );
} else if (year > 2015) {
  alert( '숫자를 좀 더 내려보세요.' );
} else {
  alert( '정답입니다!' );
}
```

자바스크립트는 조건, `year < 2015`를 먼저 확인합니다. 이 조건이 거짓이라면 다음 조건 `year > 2015`를 확인합니다. 이 조건 또한 거짓이라면 `else` 절 내의 `alert`를 실행합니다.

위 예시에서 사용된 것보다 더 많은 `else if`문을 붙일 수도 있습니다. 이때, 마지막에 붙는 `else`는 필수가 아닌 선택 사항입니다.

## 조건부 연산자 '?'

조건에 따라 다른 값을 변수에 할당해줘야 하는 경우가 있을 수 있습니다.

예시:

```js run no-beautify
let accessAllowed;
let age = prompt('나이를 입력해 주세요.', '');

*!*
if (age > 18) {
  accessAllowed = true;
} else {
  accessAllowed = false;
}
*/!*

alert(accessAllowed);
```

"물음표(question mark) 연산자"라고도 불리는 "조건부(conditional) 연산자"를 사용하면 위의 코드를 더 짧고 간결하게 변형할 수 있습니다.

조건부 연산자는 물음표`?`로 표시합니다. 피연산자가 세 개이기 때문에 조건부 연산자를 "삼항(ternary) 연산자"라고 부르는 사람도 있습니다. 참고로, 자바스크립트에서 피연산자를 3개나 받는 연산자는 조건부 연산자가 유일합니다.

문법:
```js
let result = condition ? value1 : value2;
```

평가 대상인 `condition`이 참 같은 값이라면 `value1`이, 그렇지 않으면 `value2`가 반환됩니다.

예시:

```js
let accessAllowed = (age > 18) ? true : false;
```

`age > 18` 주위의 괄호는 생략 가능합니다. 물음표 연산자는 우선순위가 낮으므로 `age > 18` 주위의 괄호를 생략할 수 있습니다. 물음표 연산자는 비교 연산자 `>`가 실행되고 난 뒤에 실행됩니다.

아래 예시는 위 예시와 동일하게 동작합니다.

```js
// 연산자 우선순위 규칙에 따라, 비교 연산 "age > 18"이 먼저 실행됩니다.
// 조건문을 괄호로 감쌀 필요가 없습니다.
let accessAllowed = age > 18 ? true : false;
```

괄호가 있으나 없으나 차이는 없지만, 코드의 가독성 향상을 위해 괄호를 사용할 것을 권유합니다.  

````smart
비교 연산자 자체가 `true/false`를 반환하기 때문에 물음표 연산자를 사용하지 않아도 됩니다.

```js
// the same
let accessAllowed = age > 18;
```
````

## 다중 '?'

물음표 연산자`?`를 여러 개 연결하면 복수의 조건을 처리할 수 있습니다.

예시:
```js run
let age = prompt('나이를 입력해주세요.', 18);

let message = (age < 9) ? '아기야 안녕?' :
  (age < 18) ? '급식이구나!' :
  (age < 100) ? '환영합니다!' :
  '나이가 아닌 값을 입력 하셨군요!';

alert( message );
```

물음표 연산자를 이런 방식으로 쓰는 걸 처음 본 분이라면 이 코드가 어떻게 동작하는지 파악하기 힘들 수 있습니다. 그러나 주의를 집중하고 본다면, 금방 동작 원리를 파악할 수 있습니다.

1. 첫 번째 물음표에선 조건문 `age < 3`을 검사합니다.
2. 그 결과가 참이면 `'아기야 안녕?'`를 반환합니다. 그렇지 않다면 첫 번째 콜론 `":"`에 이어지는 조건문 `age < 18`을 검사합니다.
3. 그 결과가 참이면 `'급식이구나!'`를 반환합니다. 그렇지 않다면 다음 콜론 `":"`에 이어지는 조건문 `age < 100`을 검사합니다.
4. 그 결과가 참이면 `'환영합니다!'`를 반환합니다. 그렇지 않다면 마지막 콜론 `":"` 이후의 표현식인 `'나이가 아닌 값을 입력 하셨군요!'`를 반환합니다.

`if..else`를 사용하면 위 예시를 아래와 같이 변형할 수 있습니다.

```js
if (age < 3) {
  message = '아기야 안녕?';
} else if (age < 18) {
  message = '급식이구나!';
} else if (age < 100) {
  message = '환영합니다!';
} else {
  message = '나이가 아닌 값을 입력 하셨군요!';
}
```

## '?' 응용하기

물음표`?`를 `if` 대용으로 쓸 수도 있습니다.

```js run no-beautify
let company = prompt('자바스크립트는 어떤 회사가 만들었을까요?, '');

*!*
(company == 'Netscape') ?
   alert('정답입니다!') : alert('오답입니다!');
*/!*
```

조건 `company == 'Netscape'`의 검사 결과에 따라 `?` 뒤에 이어지는 첫 번째 혹은 두 번째 표현식이 실행됩니다.

위 예시에선 검사 결과를 변수에 할당하지 않고, 결과에 따라 실행되는 표현식이 달라지도록 하였습니다.

**이런 식으로 물음표 연산자를 사용하는 것은 좋지 않습니다.**

개발자 입장에선 `if`문을 사용할 때 보다 코드 길이가 짧아진다는 점 때문에 이 방식이 매력적으로 느껴질 순 있습니다. 하지만 이렇게 코드를 작성하면 가독성이 떨어집니다.

아래는 `if`를 사용해 변형한 코드입니다. 어느 코드가 더 읽기 쉬운지 직접 비교해 보시기 바랍니다.

```js run no-beautify
let company = prompt('자바스크립트는 어떤 회사가 만들었을까요?, '');

*!*
if (company == 'Netscape') {
  alert('정답입니다!');
} else {
  alert('오답입니다!');
}
*/!*
```

코드를 읽을 때 우리의 눈은 수직으로 움직입니다. 수평으로 길게 늘어진 코드보단 여러 줄로 나뉘어 작성된 코드 블록이 더 읽기 쉽죠.

물음표 연산자`?`는 조건에 따라 반환값을 달리하고자 하는 경우를 위해 존재합니다. 이런 목적에 부합하는 곳에 물음표를 사용하시길 바랍니다. 여러 분기문을 만들어 처리하고자 하는 경우는 `if`를 사용하세요.
